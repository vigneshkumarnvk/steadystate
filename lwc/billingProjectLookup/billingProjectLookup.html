<template>
    <template if:true={showError}>
        <div class="error-message">{errorMessage}</div>
    </template>
    <template if:true={showSpinner}>
        <div class="spinner-background">
            <lightning-spinner alternative-text="loading" variant="brand"></lightning-spinner>
        </div>
    </template>
    <!--
    {handleSearchResult}
    <template if:true={showSpinner}>
        <div class="spinner-background">
            <lightning-spinner alternative-text="loading" variant="brand"></lightning-spinner>
        </div>
    </template>
    <div class="left-column">
        <template if:true={showError}>
            <div class="error-message">{errorMessage}</div>
        </template>
        <div class="slds-m-around_medium">
            <lightning-layout horizontal-align="spread" class="textbox-container">
                <lightning-layout-item size="4">
                    <template for:each={searchRightFields} for:item="field">
                        <div key={field.id} class="textbox-item">
                            <lightning-input type="search" label={field.label} value={field.value}
                                data-field-id={field.id} onchange={handleInputChange}
                                max-length="100"></lightning-input>
                        </div>
                    </template>
                </lightning-layout-item>
                <lightning-layout-item size="4">
                    <template for:each={searchLeftFields} for:item="field">
                        <div key={field.id} class="textbox-item">
                            <lightning-input type="search" label={field.label} value={field.value}
                                data-field-id={field.id} onchange={handleInputChange} required={field.required}></lightning-input>
                        </div>
                    </template>
                </lightning-layout-item>
            </lightning-layout>
            <div class="slds-align_absolute-center slds-m-around_medium">
                <div if:true={showCloseButton}>
                    <lightning-button label="Close" variant="netural" onclick={handleClose}
                    class="slds-m-right_small"></lightning-button>
                </div>
                <lightning-button label="Clear All" variant="netural" onclick={handleClear}
                    class="slds-m-right_small"></lightning-button>
                <lightning-button label="Look up" variant="brand" onclick={handleSearchResult}></lightning-button>
            </div>
        </div>
   -->
    <div if:true={showDatatable} class="right-column">
        <div class="slds-m-bottom_large">
            <p style="font-weight:bold">{helpText}</p>
        </div>
        <div class="datatable-section" style="max-width: 1500px;  max-height: 500px; ">
            <template if:true={showDatatable}>
                <!--<div>-->
                <div class="container" style="min-width: 210%">
                    <lightning-datatable key-field="id" data={searchResults} selected-key="selected" 
                        columns={searchResultColumns}  onrowselection={handleRowSelection} max-row-selection="1">
                    </lightning-datatable>
                </div>
                <!-- </div>-->
            </template>
        </div>
        <div class="slds-align_absolute-center slds-m-around_medium">
            <div if:true={showDatatable} class="slds-align_absolute-center slds-m-around_medium">
                <lightning-button label="Ok" variant="brand" onclick={handleSelect}
                    disabled={disabledSelect}></lightning-button>
            </div>
            <div if:true={showCloseButton} class="slds-align_absolute-center slds-m-around_medium">
                <lightning-button label="Close" variant="netural" onclick={handleClose}></lightning-button>
            </div>
        </div>
    </div>
     
</template>